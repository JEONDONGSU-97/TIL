### 출처: Java의 정석 (기초편)

# 객체지향 프로그래밍(Object-oriented Programming)

왜 객체지향언어를 쓰는가?
  
- 코드의 재사용성이 높다.
- 코드의 관리가 용이하다.(유지보수가 간편하다.)
- 신뢰성이 높은 프로그래밍을 가능하게 한다.

## 객체지향 프로그래밍이란?

프로그램 구현에 필요한 객체를 파악후 

각각의 객체들의 역할이 무엇인지 정의하며 상호작용을 통해서 프로그램을 만들어 내는 것이다.

## 클래스

클래스의 정의

  - (객체의)설계도
  - 데이터와 함수의 결합
  - 사용자 정의 타입

## 객체와 인스턴스

객체(속성+기능)란?
  - 모든 인스턴스를 대표하는 것

인스턴스란?
  - 어떤 클래스로부터 만들어진 것

### 객체의 생성과 사용
`클래스명 변수명;` => 클래스의 객체를 참조할 참조변수 선언

`변수명 = new 클래스명();` => 클래스의 객체 생성 후, 객체의 주소를 참조변수에 저장 

- **인스턴스는 참조변수를 통해서만 다룰 수 있으며, 참조변수의 타입은 인스턴스의 타입과 일치해야 한다.**

### 객체배열
`Computer cp1, cp2, cp3;` => `Computer[] cpArr = new Computer[3];`

객체 배열을 생성하는 것은, 객체를 다루기 위한 참조변수들이 만들어진 것이지 객체가 저장되지는 않는다.

**객체를 생성해서 객체 배열의 각 요소에 저장하는 것을 잊으면 안된다.**

`cpArr[0] = new Computer();`

`cpArr[1] = new Computer();`

`cpArr[2] = new Computer();`

이렇게 객체를 생성해서 배열의 각 요소에 저장을 해줘야 한다.

## 변수

### 인스턴스 변수
- 클래스 영역에 선언, 사용하기 전에 인스턴스를 생성해야 한다.
- 고유한 상태를 유지해야하는 속성의 경우 사용
- `참조변수명.인스턴스 변수`

### 클래스 변수
- 클래스 영역에 선언, 따로 생성안하고 바로 사용할 수 있다.
- 공통적인 값을 유지해야하는 속성의 경우 사용
- `클래스명.클래스 변수`
- `참조변수명.클래스 변수` => **이렇게 사용해도 되지만 클래스 변수를 인스턴스 변수로 오해하기 쉽다.** 

## 메서드

### 인스턴스 메서드
- 작업을 수행하는데 인스턴스 변수를 필요로 하는 메서드**(반드시 객체를 생성해야 한다.)**

### static 메서드(클래스 메서드)
- 인스턴스와 관계없는메서드(인스턴스 변수나 인스턴스 메서드를 사용하지 않는다.)
- 객체생성없이 '클래스이름.메서드이름()'으로 호출
- `Math.random();` `Math.round();`

### 메서드 호출
같은 클래스에 속한 멤버들 간에는 별도의 인스턴스를 생성하지 않고 서로 참조 또는 호출이 가능하다. 단, 클래스멤버(클래스변수+클래스메서드)가 인스턴스멤버(인스턴스변수+인스턴스메서드)를 참조 또는 호출하고자 할때는 인스턴스를 생성해야 한다. **그 이유는 인스턴스 멤버가 존재하는 시점에 클래스 멤버는 항상 존재하지만, 클래스 멤버가 존재하는 시점에 인스턴스 멤버가 존재하지 않을 수도 있기 때문이다.**

```java
    class Test {
          void instanceMethod() {}          // 인스턴스 메서드
          static void staticMethod() {}     // static 메서드
          
          void instanceMethod2() {          // 인스턴스 메서드(이게 호출되었다는 것은 이미 객체가 생성 되었다는 것이다.)
               instanceMethod();            // 다른 인스턴스 메서드 호출
               staticMethod();              // static 메서드 호출
          }
          
          static void staticMethod2() {     // static 메서드
                instanceMethod();           // 에러! 인스턴스 메서드 호출 불가
                staticMethod();             // static 메서드 호출 불가
          }
    }
```
```java
    class Test2 {
         int iv;                            // 인스턴스 변수
         static int cv;                     // 클래스 변수
         
         void instanceMethod() {            // 인스턴스 메서드
              System.out.println(iv);       // 인스턴스 변수 사용 가능
              System.out.println(cv);       // 클래스 변수 사용 가능
         }
         
         static void staticMethod() {       // static 메서드
              System.out.println(iv);       // 에러! 인스턴스 변수 사용 불가
              System.out.println(iv);       // 클래스 변수 사용 가능
         }
    }     
```
## static

- 클래스 설계시, 멤버변수 중 모든 인스턴스에 공통으로 사용하는 것에 static을 붙인다.
- 클래스 메서드(static)는 인스턴스를 생성하지 않아도 사용 가능하다.
- 클래스 메서드(static)는 인스턴스 변수를 사용할 수 없다.
  - **클래스 메서드는 인스턴스 생성없이 호출이 가능한데 호출될때 인스턴스가 존재하지 않을 수 있기에 인스턴스변수 사용을 금지하는 것이다.**
- 메서드 내에서 인스턴스 변수를 사용하지 않는다면, static을 붙이는 것을 고려한다.
  - **static을 붙이면 호출시간이 짧아져 성능이 향상된다.**
  - **static을 안 붙인 메서드(인스턴스메서드)는 실행 시 호출되어야할 메서드를 찾는 과정이 추가적으로 필요해 시간이 더 걸린다.**
